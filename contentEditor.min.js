function initialCheck(){chrome.runtime.sendMessage("StartOrNot"),chrome.runtime.onMessage.addListener(function(t){switch(t){case"OFF":running=!1;break;case"ON":running=!0}}),chrome.storage.sync.get("Blur_Strength",function(t){strength=t.Blur_Strength}),chrome.storage.sync.get("Choice",function(t){choice=t.Choice}),chrome.storage.sync.get("Substitute",function(t){text=t.Substitute})}function updateArrays(t,e){const s="Iggy Azalea",n="Amethyst Amelia Kelly",r="Nick Young";var g=[];g=[s,s.substring(0,4),s.substring(5,12),n,n.substring(0,7),n.substring(9,15),n.substring(16,21),r,r.substring(0,4),r.substring(5,10)];for(i in g)e[i]=g[i];for(j in e)t[j]=new RegExp("(?:"+e[j]+")","gi");t[t.length]=new RegExp("(?:encrypted)","gi")}function containsIggy(t){var e=$(document).text();for(key in t)return t[key].test(e)?!0:!1}function walk(t){var e,s;switch(t.nodeType){case 1:case 9:case 11:for(e=t.firstChild;e;)s=e.nextSibling,walk(e),e=s;break;case 3:handleText(t)}}function handleText(t){for(var e=0,s=regexses.length;s>e;e++)t.nodeValue=t.nodeValue.replace(regexses[e],text)}function getsImages(){var t=[],e=[],s=[],n=[],i=[],r=[];return $("img").each(function(){t[t.length]=$(this).attr("src"),e[e.length]=$(this).attr("alt"),s[s.length]=$(this).attr("title"),n[n.length]=$(this).attr("longdesc"),i[i.length]=$(this).attr("id"),r[r.length]=$(this).attr("class")}),e[e.length]="Image for the news result",{Sources:t,Alternate_Text:e,Title:s,Long_Destination:n,ID:i,Class:r}}function updateImages(t){var e=[],s=[],n=[],r=[],g=[],c=[],a={};for(i in t.Sources)for(j in regexses)(regexses[j].test(t.Alternate_Text[i])||regexses[j].test(t.Long_Destination[i])||regexses[j].test(t.Sources[i])||regexses[j].test(t.Title[i])||regexses[j].test(t.ID[i])||regexses[j].test(t.Class[i]))&&(e[e.length]=t.Sources[i],s[s.length]=t.Title[i],n[n.length]=t.Alternate_Text[i],r[r.length]=t.Long_Destination[i],g[g.length]=t.ID[i],c[c.length]=t.Class[i]);a={Sources:e,Alternate_Text:n,Title:s,Long_Destination:r,ID:g,Class:c},$("img").each(function(){for(m in a.Sources)if($(this).attr("src")==a.Sources[m]||$(this).attr("alt")==a.Alternate_Text[m])if("Blur Iggy's Images"==choice)$(this).css({"-webkit-filter":"blur("+strength+"px)"});else if("Replace with picture of Trash"==choice){var t=_.random(0,6);$(this).css({content:"url("+TrashURLs[t]+")"}),$(this).hover(function(){$(this).css({'content':'url(https://i.imgur.com/jj85Yhj.png)'})},function(){$(this).css({content:"url("+TrashURLs[t]+")"})})}})}var running,strength,text,choice,keywords=[],regexses=[],TrashURLs=["https://i.imgur.com/KI1UEHY.jpg","https://i.imgur.com/tyLi3HG.jpg","https://i.imgur.com/vw2AyEi.jpg","https://i.imgur.com/nQRejxu.jpg","https://i.imgur.com/JIdfyuF.jpg","https://i.imgur.com/hwGjL5X.jpg","https://i.imgur.com/FeCtyPy.jpg"];initialCheck(),updateArrays(regexses,keywords),$(document).ready(function(){$(document).text();switch(running){case!0:containsIggy(regexses)&&(updateImages(getsImages()),walk(document.body));break;case!1:}});