function initialCheck(){chrome.runtime.sendMessage("StartOrNot"),chrome.runtime.onMessage.addListener(function(e){switch(e){case"OFF":running=!1;break;case"ON":running=!0}}),chrome.storage.sync.get("Blur_Strength",function(e){strength=e.Blur_Strength}),chrome.storage.sync.get("Choice",function(e){choice=e.Choice}),chrome.storage.sync.get("Substitute",function(e){text=e.Substitute})}function updateArrays(e,t){const s="Iggy Azalea",n="Amethyst Amelia Kelly",r="Nick Young";var a=[];a=[s,s.substring(0,4),s.substring(5,12),n,n.substring(0,7),n.substring(9,15),n.substring(16,21),r,r.substring(0,4),r.substring(5,10)];for(i in a)t[i]=a[i];for(j in t)e[j]=new RegExp("(?:"+t[j]+")","gi")}function containsIggy(e){var t=$(document).text();for(key in e)return e[key].test(t)?!0:!1}function walk(e){var t,s;switch(e.nodeType){case 1:case 9:case 11:for(t=e.firstChild;t;)s=t.nextSibling,walk(t),t=s;break;case 3:handleText(e)}}function handleText(e){for(var t=0,s=regexses.length;s>t;t++)e.nodeValue=e.nodeValue.replace(regexses[t],text)}function getsImages(){var e=[],t=[],s=[],n=[],i=[],r=[];return $("img").each(function(){e[e.length]=$(this).attr("src"),t[t.length]=$(this).attr("alt"),s[s.length]=$(this).attr("title"),n[n.length]=$(this).attr("longdesc"),i[i.length]=$(this).attr("id"),r[r.length]=$(this).attr("class")}),{Sources:e,Alternate_Text:t,Title:s,Long_Destination:n,ID:i,Class:r}}function updateImages(e){var t=[],s=[],n=[],r=[],a=[],g=[],c={};for(i in e.Sources)for(j in regexses)(regexses[j].test(e.Alternate_Text[i])||regexses[j].test(e.Long_Destination[i])||regexses[j].test(e.Sources[i])||regexses[j].test(e.Title[i])||regexses[j].test(e.ID[i])||regexses[j].test(e.Class[i]))&&(t[t.length]=e.Sources[i],s[s.length]=e.Title[i],n[n.length]=e.Alternate_Text[i],r[r.length]=e.Long_Destination[i],a[a.length]=e.ID[i],g[g.length]=e.Class[i]);c={Sources:t,Alternate_Text:n,Title:s,Long_Destination:r,ID:a,Class:g},$("img").each(function(){for(m in c.Sources)($(this).attr("src")==c.Sources[m]||$(this).attr("alt")==c.Alternate_Text[m])&&("Blur Iggy's Images"==choice?$(this).css({"-webkit-filter":"blur("+strength+"px)"}):"Replace with picture of Trash"==choice&&$(this).css({content:'url("https://i.imgur.com/auTIhxQ.gif")'}))})}var running,strength,text,choice,keywords=[],regexses=[];initialCheck(),updateArrays(regexses,keywords),$(document).ready(function(){$(document).text();switch(running){case!0:containsIggy(regexses)&&(updateImages(getsImages()),walk(document.body));break;case!1:}});